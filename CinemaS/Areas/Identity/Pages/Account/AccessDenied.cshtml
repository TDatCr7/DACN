@page
@model AccessDeniedModel
@{
    ViewData["Title"] = "Truy cập bị từ chối";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="~/css/access-denied.css" />

<div class="access-denied-container">
    <div class="access-denied-card">
        <div class="access-denied-icon">
            <i class="fa-solid fa-ban"></i>
        </div>
        
        <h1 class="access-denied-title">@ViewData["Title"]</h1>
        
        <div class="access-denied-subtitle">Lỗi 403</div>
        
        <p class="access-denied-message">
            Bạn không có quyền truy cập vào tài nguyên này. Vui lòng liên hệ quản trị viên nếu bạn cho rằng đây là một lỗi.
        </p>

        <div class="access-denied-countdown-container">
            <p class="access-denied-countdown-text">
                Trở về trang chủ sau <span class="access-denied-countdown-timer">10</span>s
            </p>
        </div>

        <div class="access-denied-actions">
            <a class="access-denied-btn access-denied-btn-secondary" 
               asp-controller="Home" asp-action="Index">
                <i class="fa-solid fa-house"></i>
                <span>Trang chủ</span>
            </a>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        let countdown = 10;
        const countdownElement = document.querySelector('.access-denied-countdown-timer');
        
        const interval = setInterval(function () {
            countdown--;
            if (countdownElement) {
                countdownElement.textContent = countdown;
            }
            
            if (countdown <= 0) {
                clearInterval(interval);
                // Redirect to home page
                window.location.href = '/';
            }
        }, 1000);
    });
</script>
